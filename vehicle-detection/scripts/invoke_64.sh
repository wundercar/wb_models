#!/bin/bash

res1=$(date +%s.%N)

curl --location --request POST 'localhost:8080/invocations' --header 'Content-Type: application/json' --data-raw '{"bucket": "wb-inference-data-exp","images": ["vehicle-detection/batch-transform-input/images/first-batch-transform/ksacarsharing/ksacarsharing_000001.jpg","vehicle-detection/batch-transform-input/images/first-batch-transform/ksacarsharing/ksacarsharing_000002.jpg","vehicle-detection/batch-transform-input/images/first-batch-transform/ksacarsharing/ksacarsharing_000003.jpg","vehicle-detection/batch-transform-input/images/first-batch-transform/ksacarsharing/ksacarsharing_000004.jpg","vehicle-detection/batch-transform-input/images/first-batch-transform/ksacarsharing/ksacarsharing_000005.jpg","vehicle-detection/batch-transform-input/images/first-batch-transform/ksacarsharing/ksacarsharing_000006.jpg","vehicle-detection/batch-transform-input/images/first-batch-transform/ksacarsharing/ksacarsharing_000007.jpg","vehicle-detection/batch-transform-input/images/first-batch-transform/ksacarsharing/ksacarsharing_000008.jpg","vehicle-detection/batch-transform-input/images/first-batch-transform/ksacarsharing/ksacarsharing_000009.jpg","vehicle-detection/batch-transform-input/images/first-batch-transform/ksacarsharing/ksacarsharing_000010.jpg","vehicle-detection/batch-transform-input/images/first-batch-transform/ksacarsharing/ksacarsharing_000011.jpg","vehicle-detection/batch-transform-input/images/first-batch-transform/ksacarsharing/ksacarsharing_000012.jpg","vehicle-detection/batch-transform-input/images/first-batch-transform/ksacarsharing/ksacarsharing_000013.jpg","vehicle-detection/batch-transform-input/images/first-batch-transform/emco/emco_000001.jpg","vehicle-detection/batch-transform-input/images/first-batch-transform/emco/emco_000002.jpg","vehicle-detection/batch-transform-input/images/first-batch-transform/emco/emco_000003.jpg","vehicle-detection/batch-transform-input/images/first-batch-transform/emco/emco_000004.jpg","vehicle-detection/batch-transform-input/images/first-batch-transform/emco/emco_000005.jpg","vehicle-detection/batch-transform-input/images/first-batch-transform/emco/emco_000006.jpg","vehicle-detection/batch-transform-input/images/first-batch-transform/emco/emco_000007.jpg","vehicle-detection/batch-transform-input/images/first-batch-transform/emco/emco_000008.jpg","vehicle-detection/batch-transform-input/images/first-batch-transform/emco/emco_000009.jpg","vehicle-detection/batch-transform-input/images/first-batch-transform/emco/emco_000010.jpg","vehicle-detection/batch-transform-input/images/first-batch-transform/emco/emco_000011.jpg","vehicle-detection/batch-transform-input/images/first-batch-transform/emco/emco_000012.jpg","vehicle-detection/batch-transform-input/images/first-batch-transform/emco/emco_000013.jpg","vehicle-detection/batch-transform-input/images/first-batch-transform/emco/emco_000014.jpg","vehicle-detection/batch-transform-input/images/first-batch-transform/emco/emco_000015.jpg","vehicle-detection/batch-transform-input/images/first-batch-transform/emco/emco_000016.jpg","vehicle-detection/batch-transform-input/images/first-batch-transform/emco/emco_000017.jpg","vehicle-detection/batch-transform-input/images/first-batch-transform/emco/emco_000018.jpg","vehicle-detection/batch-transform-input/images/first-batch-transform/emco/emco_000019.jpg","vehicle-detection/batch-transform-input/images/first-batch-transform/emco/emco_000020.jpg","vehicle-detection/batch-transform-input/images/first-batch-transform/emco/emco_000021.jpg","vehicle-detection/batch-transform-input/images/first-batch-transform/emco/emco_000022.jpg","vehicle-detection/batch-transform-input/images/first-batch-transform/emco/emco_000023.jpg","vehicle-detection/batch-transform-input/images/first-batch-transform/emco/emco_000024.jpg","vehicle-detection/batch-transform-input/images/first-batch-transform/emco/emco_000025.jpg","vehicle-detection/batch-transform-input/images/first-batch-transform/emco/emco_000026.jpg","vehicle-detection/batch-transform-input/images/first-batch-transform/emco/emco_000027.jpg","vehicle-detection/batch-transform-input/images/first-batch-transform/emco/emco_000028.jpg","vehicle-detection/batch-transform-input/images/first-batch-transform/emco/emco_000029.jpg","vehicle-detection/batch-transform-input/images/first-batch-transform/emco/emco_000030.jpg","vehicle-detection/batch-transform-input/images/first-batch-transform/emco/emco_000031.jpg","vehicle-detection/batch-transform-input/images/first-batch-transform/emco/emco_000032.jpg","vehicle-detection/batch-transform-input/images/first-batch-transform/emco/emco_000033.jpg","vehicle-detection/batch-transform-input/images/first-batch-transform/emco/emco_000034.jpg","vehicle-detection/batch-transform-input/images/first-batch-transform/emco/emco_000035.jpg","vehicle-detection/batch-transform-input/images/first-batch-transform/emco/emco_000036.jpg","vehicle-detection/batch-transform-input/images/first-batch-transform/emco/emco_000037.jpg","vehicle-detection/batch-transform-input/images/first-batch-transform/emco/emco_000038.jpg","vehicle-detection/batch-transform-input/images/first-batch-transform/emco/emco_000039.jpg","vehicle-detection/batch-transform-input/images/first-batch-transform/emco/emco_000040.jpg","vehicle-detection/batch-transform-input/images/first-batch-transform/emco/emco_000041.jpg","vehicle-detection/batch-transform-input/images/first-batch-transform/emco/emco_000042.jpg","vehicle-detection/batch-transform-input/images/first-batch-transform/emco/emco_000043.jpg","vehicle-detection/batch-transform-input/images/first-batch-transform/emco/emco_000044.jpg","vehicle-detection/batch-transform-input/images/first-batch-transform/emco/emco_000045.jpg","vehicle-detection/batch-transform-input/images/first-batch-transform/emco/emco_000046.jpg","vehicle-detection/batch-transform-input/images/first-batch-transform/emco/emco_000047.jpg","vehicle-detection/batch-transform-input/images/first-batch-transform/emco/emco_000048.jpg","vehicle-detection/batch-transform-input/images/first-batch-transform/emco/emco_000049.jpg","vehicle-detection/batch-transform-input/images/first-batch-transform/emco/emco_000050.jpg","vehicle-detection/batch-transform-input/images/first-batch-transform/emco/emco_000051.jpg"]}'

res2=$(date +%s.%N)

dt=$(echo "$res2 - $res1" | bc)
dd=$(echo "$dt/86400" | bc)
dt2=$(echo "$dt-86400*$dd" | bc)
dh=$(echo "$dt2/3600" | bc)
dt3=$(echo "$dt2-3600*$dh" | bc)
dm=$(echo "$dt3/60" | bc)
ds=$(echo "$dt3-60*$dm" | bc)

LC_NUMERIC=C printf "\nTotal runtime: %d:%02d:%02d:%02.4f\n" $dd $dh $dm $ds
